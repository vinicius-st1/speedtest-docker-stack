# Arquivo privado com parâmetros do Ookla por instância.
# Copie para /opt/speedtest-docker-stack/inventory.private.yml e preencha os blocos reais.
# IMPORTANTE:
# - Não inclua openSSL.server.certificateFile/privateKeyFile aqui neste projeto.
# - O TLS é encerrado no container Nginx (acme), não no backend Ookla.

instances:
  - name: "speedtest01"
    ookla:
      properties_raw: |
        OoklaServer.tcpPorts = 5060,8080
        OoklaServer.udpPorts = 5060,8080
        OoklaServer.useIPv6 = true
        OoklaServer.allowedDomains = *.ookla.com, *.speedtest.net, *.st1internet.com.br
        OoklaServer.userAgentFilterEnabled = true
        OoklaServer.workerThreadPool.capacity = 30000
        OoklaServer.ipTracking.maxIdleAgeMinutes = 35
        OoklaServer.ipTracking.maxConnPerIp = 5
        OoklaServer.ipTracking.maxConnPerBucketPerIp = 10
        OoklaServer.clientAuthToken.denyInvalid = true
        OoklaServer.websocket.frameSizeLimitBytes = 5242880

  - name: "speedtest02"
    ookla:
      properties_raw: |
        OoklaServer.tcpPorts = 5060,8080
        OoklaServer.udpPorts = 5060,8080
        OoklaServer.useIPv6 = true
        OoklaServer.allowedDomains = *.ookla.com, *.speedtest.net, *.st1internet.com.br
        OoklaServer.userAgentFilterEnabled = true
        OoklaServer.workerThreadPool.capacity = 30000
        OoklaServer.ipTracking.maxIdleAgeMinutes = 35
        OoklaServer.ipTracking.maxConnPerIp = 5
        OoklaServer.ipTracking.maxConnPerBucketPerIp = 10
        OoklaServer.clientAuthToken.denyInvalid = true
        OoklaServer.websocket.frameSizeLimitBytes = 5242880

  - name: "speedtest03"
    ookla:
      properties_raw: |
        OoklaServer.tcpPorts = 5060,8080
        OoklaServer.udpPorts = 5060,8080
        OoklaServer.useIPv6 = true
        OoklaServer.allowedDomains = *.ookla.com, *.speedtest.net, *.st1internet.com.br
        OoklaServer.userAgentFilterEnabled = true
        OoklaServer.workerThreadPool.capacity = 30000
        OoklaServer.ipTracking.maxIdleAgeMinutes = 35
        OoklaServer.ipTracking.maxConnPerIp = 5
        OoklaServer.ipTracking.maxConnPerBucketPerIp = 10
        OoklaServer.clientAuthToken.denyInvalid = true
        OoklaServer.websocket.frameSizeLimitBytes = 5242880

  - name: "speedtest04"
    ookla:
      properties_raw: |
        OoklaServer.tcpPorts = 5060,8080
        OoklaServer.udpPorts = 5060,8080
        OoklaServer.useIPv6 = true
        OoklaServer.allowedDomains = *.ookla.com, *.speedtest.net, *.st1internet.com.br
        OoklaServer.userAgentFilterEnabled = true
        OoklaServer.workerThreadPool.capacity = 30000
        OoklaServer.ipTracking.maxIdleAgeMinutes = 35
        OoklaServer.ipTracking.maxConnPerIp = 5
        OoklaServer.ipTracking.maxConnPerBucketPerIp = 10
        OoklaServer.clientAuthToken.denyInvalid = true
        OoklaServer.websocket.frameSizeLimitBytes = 5242880
